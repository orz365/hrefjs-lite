!function(s,h){"object"==typeof module&&"object"==typeof module.exports?module.exports=h(s):h(s)}("undefined"!=typeof window?window:this,function(s){function u(s){var h,n=[];for(h in s)n.push(h+"="+s[h]);return n.join("&")}function f(s){if(void 0===s||0===s.length)return{};0===s.indexOf("?")&&(s=s.substring(1));for(var h={},n=s.split("&"),t=0;t<n.length;t++){var r=n[t].split("="),e=r[0],r=r[1];h[e]=r}return h}function h(s){if("string"!=typeof s)return p;s.length,p.href=s;var{hash:h,hashPath:n,hashJson:s,hrefNoHash:t}=(r="",o={},i=(a=s).indexOf("#"),a.lastIndexOf("#"),r="",-1!==i?(-1===(t=(r="#"===(r=a.substring(i))?"":r).indexOf("?"))&&(t=r.length),e=r.substring(0,t),t=r.substring(t),o=f(t)):i=a.length,{hash:r,hashPath:e,hashJson:o,hrefNoHash:a.substring(0,i)}),r=t.indexOf("?");-1===r&&(r=t.length);var e=t.substring(0,r),o=t.substring(r),a=e.split("//"),i=a[0]||"http:",t=a[1]||"";return-1===(r=t.indexOf("/"))&&(r=t.length),e=t.substring(0,r),a=t.substring(r),t=e.split(":")[0]||"",r=e.split(":")[1]||"",p.hash=h,p.hashPath=n,p.hashSearch=""==u(s)?"":"?"+u(s),p.hashSearchJson=s,p.search=o,p.protocol=i,p.host=e,p.pathname=a,p.hostname=t,p.port=r,p.searchJson=f(o),p}var p={hash:"",hashJson:{},host:"",hostname:"",href:"",origin:"",pathname:"",port:80,protocol:"",search:"",searchJson:{}};return h.json2param=u,h.param2json=f,h.revert=function(s){return s.protocol+"//"+s.hostname+":"+s.port+s.pathname+(""==u(s.searchJson)?"":"?"+u(s.searchJson))+s.hashPath+(""==u(s.hashSearchJson)?"":"?"+u(s.hashSearchJson))},s.Hrefjs=h});